# 📋 Pickid 테스트 생성 필드 가이드

> 어드민에서 테스트를 생성할 때 필요한 모든 필드들을 정리한 문서입니다.

## 🎯 테스트 생성 단계별 필드

### 1단계: 테스트 유형 선택

| 필드명 | 타입     | 설명        | 필수여부 | 예시                                                              |
| ------ | -------- | ----------- | -------- | ----------------------------------------------------------------- |
| `type` | `string` | 테스트 유형 | ✅       | `psychology`, `balance`, `character`, `quiz`, `meme`, `lifestyle` |

#### 지원하는 테스트 유형

- **심리형 (psychology)**: MBTI, 색상/동물 등 성향 분석
- **밸런스형 (balance)**: 2지선다/다지선다 선택
- **캐릭터 매칭형 (character)**: 특정 IP/캐릭터와 매칭
- **퀴즈형 (quiz)**: 지식/정답 기반
- **밈형 (meme)**: 밈/이모지 매칭
- **라이프스타일형 (lifestyle)**: 취향 기반

---

### 2단계: 기본 정보 입력

| 필드명           | 타입       | 설명                     | 필수여부 | 기본값    | 예시                                         |
| ---------------- | ---------- | ------------------------ | -------- | --------- | -------------------------------------------- |
| `title`          | `string`   | 테스트 제목              | ✅       | -         | "나의 성격 유형은?"                          |
| `description`    | `string`   | 테스트 설명              | ❌       | `null`    | "간단한 질문으로 당신의 성격을 분석해보세요" |
| `intro_text`     | `string`   | 테스트 시작 전 안내 문구 | ❌       | `null`    | "총 10개의 질문에 답해주세요"                |
| `slug`           | `string`   | URL 슬러그               | ✅       | -         | "my-personality-test"                        |
| `short_code`     | `string`   | 6자리 짧은 코드          | ✅       | 자동생성  | "ABC123"                                     |
| `thumbnail_url`  | `string`   | 썸네일 이미지 URL        | ❌       | `null`    | "https://example.com/thumb.jpg"              |
| `category_ids`   | `string[]` | 카테고리 ID 배열         | ❌       | `[]`      | `["cat1", "cat2"]`                           |
| `estimated_time` | `number`   | 예상 소요 시간(분)       | ❌       | `5`       | `10`                                         |
| `max_score`      | `number`   | 최대 점수                | ❌       | `100`     | `50`                                         |
| `status`         | `string`   | 테스트 상태              | ❌       | `"draft"` | `"published"`, `"draft"`, `"scheduled"`      |
| `scheduled_at`   | `string`   | 예약 발행 시간           | ❌       | `null`    | `"2024-01-01T00:00:00Z"`                     |

#### 카테고리 목록

- `personality`: 성격/심리
- `love`: 연애/관계
- `career`: 직업/진로
- `lifestyle`: 라이프스타일
- `entertainment`: 엔터테인먼트
- `knowledge`: 지식/상식
- `fun`: 재미/밈
- `culture`: 문화/트렌드

---

### 3단계: 질문 작성

#### 질문 데이터 구조

```typescript
interface QuestionData {
	question_text: string; // 질문 내용
	question_order: number; // 질문 순서
	image_url?: string | null; // 질문 이미지 URL
	choices: ChoiceData[]; // 선택지 배열
}
```

#### 선택지 데이터 구조

```typescript
interface ChoiceData {
	choice_text: string; // 선택지 텍스트
	choice_order: number; // 선택지 순서
	score: number; // 점수 (심리형/퀴즈형에서 사용)
	is_correct: boolean; // 정답 여부 (퀴즈형에서 사용)
}
```

| 필드명                   | 타입      | 설명                     | 필수여부 | 예시                           |
| ------------------------ | --------- | ------------------------ | -------- | ------------------------------ |
| `question_text`          | `string`  | 질문 내용                | ✅       | "당신이 선호하는 색깔은?"      |
| `question_order`         | `number`  | 질문 순서 (0부터 시작)   | ✅       | `0`, `1`, `2`                  |
| `image_url`              | `string`  | 질문 이미지 URL          | ❌       | `"https://example.com/q1.jpg"` |
| `choices[].choice_text`  | `string`  | 선택지 텍스트            | ✅       | "빨간색", "파란색"             |
| `choices[].choice_order` | `number`  | 선택지 순서 (0부터 시작) | ✅       | `0`, `1`, `2`                  |
| `choices[].score`        | `number`  | 선택지 점수              | ✅       | `1`, `2`, `3`                  |
| `choices[].is_correct`   | `boolean` | 정답 여부 (퀴즈형만)     | ❌       | `true`, `false`                |

---

### 4단계: 결과 설정

#### 결과 데이터 구조

```typescript
interface ResultData {
	result_name: string; // 결과 이름
	result_order: number; // 결과 순서
	description?: string | null; // 결과 설명
	match_conditions: {
		// 매칭 조건
		type: 'score'; // 조건 타입 (현재는 score만 지원)
		min: number; // 최소 점수
		max: number; // 최대 점수
	};
	background_image_url?: string | null; // 배경 이미지 URL
	theme_color?: string; // 테마 색상 (HEX)
	features: Record<string, unknown>; // 추가 특성 (JSON)
}
```

| 필드명                  | 타입     | 설명                   | 필수여부 | 기본값      | 예시                                    |
| ----------------------- | -------- | ---------------------- | -------- | ----------- | --------------------------------------- |
| `result_name`           | `string` | 결과 이름              | ✅       | -           | "ENFP - 활동가"                         |
| `result_order`          | `number` | 결과 순서 (0부터 시작) | ✅       | -           | `0`, `1`, `2`                           |
| `description`           | `string` | 결과 설명              | ❌       | `null`      | "당신은 창의적이고 열정적인 사람입니다" |
| `match_conditions.type` | `string` | 매칭 조건 타입         | ✅       | `"score"`   | `"score"`                               |
| `match_conditions.min`  | `number` | 최소 점수              | ✅       | -           | `0`, `10`, `20`                         |
| `match_conditions.max`  | `number` | 최대 점수              | ✅       | -           | `30`, `50`, `100`                       |
| `background_image_url`  | `string` | 배경 이미지 URL        | ❌       | `null`      | `"https://example.com/bg.jpg"`          |
| `theme_color`           | `string` | 테마 색상 (HEX)        | ❌       | `"#3B82F6"` | `"#FF6B6B"`, `"#4ECDC4"`                |
| `features`              | `object` | 추가 특성 (JSON)       | ❌       | `{}`        | `{"personality": "extrovert"}`          |

---

## 🔄 자동 생성 필드

다음 필드들은 시스템에서 자동으로 생성되므로 입력할 필요가 없습니다:

| 필드명           | 타입     | 설명           | 생성 시점 |
| ---------------- | -------- | -------------- | --------- |
| `id`             | `string` | 테스트 고유 ID | 저장 시   |
| `created_at`     | `string` | 생성 시간      | 저장 시   |
| `updated_at`     | `string` | 수정 시간      | 저장 시   |
| `published_at`   | `string` | 발행 시간      | 발행 시   |
| `response_count` | `number` | 응답 수        | 초기값 0  |
| `view_count`     | `number` | 조회 수        | 초기값 0  |

---

## 📊 테스트 유형별 특성

### 심리형 (psychology)

- **점수 시스템**: 각 선택지에 점수 부여
- **결과 매칭**: 점수 범위로 결과 결정
- **특징**: 성향 분석, 다차원 결과

### 밸런스형 (balance)

- **선택 비율**: 선택한 항목의 비율 계산
- **통계 기반**: 선택 패턴 분석
- **특징**: 간단한 선택, 취향 분석

### 캐릭터 매칭형 (character)

- **캐릭터 매칭**: 특정 캐릭터와 매칭
- **이미지 중심**: 시각적 요소 중요
- **특징**: 팬덤 콘텐츠, IP 활용

### 퀴즈형 (quiz)

- **정답 체크**: `is_correct` 필드 활용
- **점수 계산**: 정답 개수 기반
- **특징**: 지식 테스트, 학습 효과

### 밈형 (meme)

- **랜덤 결과**: 재미 중심
- **바이럴 콘텐츠**: 공유 유도
- **특징**: 유머, 트렌드 반영

### 라이프스타일형 (lifestyle)

- **취향 분석**: 라이프스타일 패턴
- **추천 시스템**: 개인화된 결과
- **특징**: 실용적 정보, 개인화

---

## ⚠️ 주의사항

1. **필수 필드**: `title`, `slug`, `type`은 반드시 입력해야 합니다.
2. **점수 범위**: `max_score`와 결과의 `match_conditions` 점수 범위가 일치해야 합니다.
3. **이미지 URL**: 모든 이미지 URL은 유효한 HTTPS 링크여야 합니다.
4. **색상 코드**: `theme_color`는 HEX 형식(`#RRGGBB`)으로 입력해야 합니다.
5. **배열 순서**: `question_order`, `choice_order`, `result_order`는 0부터 시작합니다.
6. **JSON 필드**: `features`는 유효한 JSON 객체여야 합니다.

---

## 🚀 빠른 시작 예시

### 기본 테스트 생성 예시

```json
{
	"type": "psychology",
	"title": "나의 성격 유형 테스트",
	"description": "간단한 질문으로 당신의 성격을 분석해보세요",
	"slug": "my-personality-test",
	"intro_text": "총 5개의 질문에 답해주세요",
	"estimated_time": 3,
	"max_score": 20,
	"category_ids": ["personality"],
	"questions": [
		{
			"question_text": "당신이 선호하는 색깔은?",
			"question_order": 0,
			"choices": [
				{ "choice_text": "빨간색", "choice_order": 0, "score": 1, "is_correct": false },
				{ "choice_text": "파란색", "choice_order": 1, "score": 2, "is_correct": false }
			]
		}
	],
	"results": [
		{
			"result_name": "활동가",
			"result_order": 0,
			"description": "당신은 활발하고 에너지가 넘치는 사람입니다",
			"match_conditions": { "type": "score", "min": 0, "max": 10 },
			"theme_color": "#FF6B6B"
		}
	]
}
```

이 문서를 참고하여 테스트를 생성하시면 됩니다! 🎉
